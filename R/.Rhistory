devtools::install()
q()
devtools::document()
devtools::build()
?install.packages
packageVersion("dwp")
devtools::install()
3
require(dwp)
devtools::load_all()
set.seed(8)
xep02 <- function(x, b0, b2)  x * exp(b0*log(x) + b2*x)
xx <- seq(0.001, 175, length = 10000)
yy <- sample(xx, size = 100, replace = T, prob = xep02(xx, -1, -0.0001))
rings <- prepRing(yy, srad = 100)
mods <- ddFit(rings, distr = "all")
plot(mods)

sieve = list(aic = 5, hin = F, 
  rtail = c(p80 = 0.85, p120 = 0.9, p150 = 0.95, p200 = 0.99), 
  ltail = c(p20 = 0.5, p50 = 0.9))
modelFilter(dmod = mods, sieve = sieve)
sieve = list(aic = 5, 
  ltail = c(p20 = 0.2, p50 = 0.999))
modelFilter(dmod = mods, extent = "win")
dmod = mods; sieve = "default", extent = "full", quiet = FALSE

?modelFilter
modelFilter(dmod = mods, extent = "win")
modelFilter(dmod = mods)
dist_d = "gamma"
dparm = c(f50 = 0.6, f100 = 0.9)
dfbat <- suppressWarnings(optim(par = c(2, 50), fn = function(x){
   max(abs(pgamma(50, shape = x[1], scale=x[2]) - dparm["f50"]),
       abs(pgamma(100, shape = x[1], scale = x[2]) - dparm["f100"]))
})$par) # this gives the distribution to generate random distances, NOT carcass density at a point

set.seed(7)
ncarc = 100
rsim <- rgamma(ncarc, shape = dfbat[1], scale = dfbat[2])
srad <- 80
dat1 <- prepRing(rsim[rsim <= srad], srad = srad)
ex1 <- ddFit(dat1, distr = "all")
plot(ex1)
type = "CDF"; extent = "full"; distr = "all";
plot(ex1, type = type, extent = extent)

type = "PDF"; extent = "full"; distr = "all";
plot(ex1, type = type, extent = extent)

estpsi(dat1, ex1[[1]], nsim = 10)
b
browseVignettes("dwp")
getwd()
knitr::purl("../../dwp_estimation11.Rmd", output = "../../dwp_estimation11.R")
xx <- seq(0.01, 100, by = 0.1)
seed = 104 # date
set.seed(seed) 
r <- rdd(100, "xep12", c(b1 = .03, b2 = -.001))
srad <- 75
ni <- which(r > srad)
r <- r[r < srad]
seed <- seed + 1
set.seed(seed)
r <- c(r, runif(length(ni), 0, srad))
r[r == max(r)] <- max(r) - 0.5
yy <- hist(r, breaks = seq(0, srad, by = 5), plot = FALSE)
ringdat <- prepRing(r, srad = srad)
theta <- runif(length(r), 0, 2 * pi)

lim <- c(-srad, srad)
par(mar = c(2, 2, 0.75, 0.75), mgp = c(2, 0.7, 0), tck = -0.012, family = font)
plot(0, type = "n", xlim = lim, ylim = lim, axes = F, asp = 1, xaxs = "i", yaxs = "i")
m4o <- 2 * srad * sqrt(0.75)/2
m4i <- 2 * srad * sqrt(0.25)/2
rect(-srad, -srad, srad, srad, col = colors()[350], border = NA)
rect(-m4o, -m4o, m4o, m4o, col = "white", border = NA)
rect(-m4i, -m4i, m4i, m4i, col = colors()[395], border = NA)
points(r * cos(theta), r * sin(theta))
axis(1, at = seq(-75, 75, by = 15), lab = seq(-100, 100, by = 20), cex = 0.85)
axis(2, at = seq(-75, 75, by = 15), lab = seq(-100, 100, by = 20), cex = 0.85)
points(0, 0, pch = 8, cex = 2)

q()
n
devtools::document()
devtools::build()
q()
n
